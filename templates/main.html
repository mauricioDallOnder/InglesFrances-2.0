<!DOCTYPE html>
<html lang="pt-BR">

<head>
        <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    </script>
    <link rel="stylesheet" href="../static/css/style-new.css">
    <script src="../static/javascript/callbacks.js"></script>


    <title>AI pronunciation trainer</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Cabeçalho -->
        <header class="app-header">
            <h1 id="main_title">AI Pronunciation Trainer</h1>
            <div class="header-controls">
                <div class="dropdown">
                    <button id="languageBox" class="dropbtn">English</button>
                    <div class="dropdown-content">
                        <a href="javascript:changeLanguage('en', true)">English</a>
                        <a href="javascript:changeLanguage('fr', true)">French</a>
                    </div>
                </div>
                <p id="section_accuracy" class="score-text">| Pontuação: 0</p>
            </div>
        </header>

        <!-- Conteúdo Principal -->
        <main class="main-content">
            <!-- Cartão de Exibição de Texto -->
            <div id="text-area" class="text-display-card">
                <p id="original_script" class="main-text" contenteditable>Clique em "Próxima" para gerar uma nova frase.</p>
                
                <!-- Grade de Transcrição com o novo layout -->
                <div class="transcription-grid">
                    <!-- Item de largura total para o português -->
                    <div class="transcription-item portuguese-item">
                        <h3>Aproximação em Português</h3>
                        <p id="portuguese_script" class="portuguese-text">-</p>
                    </div>

                    <!-- Container para os itens IPA lado a lado -->
                    <div class="ipa-row">
                        <div class="transcription-item">
                            <h3>Transcrição IPA Original</h3>
                            <p id="ipa_script" class="ipa-text">-</p>
                        </div>
                        <div class="transcription-item">
                            <h3>Sua Pronúncia (IPA)</h3>
                            <p id="recorded_ipa_script" class="ipa-text recorded-ipa">-</p>
                        </div>
                    </div>
                </div>
                <!-- Elemento de tradução escondido para não quebrar o JS, mas invisível na tela -->
                <p id="translated_script" class="translation-text" style="display: none;"></p>
            </div>

            <!-- Painel de Resultados e Áudio -->
            <div class="audio-results-panel">
                <div class="playback-controls">
                    <a id="playSampleAudio" href="javascript:playAudio()" class="round-button disabled">
                        <i class="material-icons">play_arrow</i>
                    </a>
                    <a id="playRecordedAudio" href="javascript:playRecording()" class="round-button disabled">
                        <i class="material-icons">record_voice_over</i>
                    </a>
                </div>
                <div class="accuracy-display">
                    <p>Precisão:</p>
                    <p id="pronunciation_accuracy" class="accuracy-score">-</p>
                </div>
            </div>
        </main>

        <!-- Barra de Detalhes da Palavra -->
        <div class="word-details-bar">
            <h3>Referência | Palavra Pronunciada</h3>
            <p id="single_word_ipa_pair">Reference | Spoken</p>
        </div>

        <!-- Rodapé com Ações -->
        <footer class="app-footer">
            <div id="radio-difficulty" class="difficulty-controls radio">
                <input label="Fácil" type="radio" id="lengthCat2" name='length' checked onclick="javascript:getNextSample()">
                <input label="Médio" type="radio" id="lengthCat3" name='length' onclick="javascript:getNextSample()">
                <input label="Difícil" type="radio" id="lengthCat4" name='length' onclick="javascript:getNextSample()">
                <input label="Aleatório" type="radio" id="lengthCat1" name='length' onclick="javascript:getNextSample()">
            </div>
            
            <div class="main-actions">
                <a id="recordAudio" href="javascript:updateRecordingState()" class="mic-button disabled">
                    <i id="recordIcon" class="material-icons">mic</i>
                </a>
                <div id="nextButtonDiv">
                     <button id="buttonNext" class="button-next" onclick="javascript:getNextSample()">Próxima</button>
                </div>
            </div>
        </footer>
    </div>

    <!-- Scripts -->

</body>
</html>